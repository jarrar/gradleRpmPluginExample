/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

makeRpm {
	doLast {
		println "- Making RPM"
	}

}

greetingData {
	message = 'Greetings users of the  '
	greeter = 'APP2'
}


println "DEBUG: ${OUTPUT_DIR}/module/${project.name}/RPMS"

task buildRuntimeRpm(type: Rpm) {

	packageName = 'app2-runtime'
	version = '3.0.11'
	release = '376'
	arch = I386
	os = LINUX

	preInstall file('scripts/rpm/preinstall.sh')
	postInstall file('scripts/rpm/postinstall.sh')

	destinationDir = project.file(OUTPUT_DIR + "/module/${project.name}/RPMS")
	destinationDir.mkdirs()

	from('scripts/launch_app.sh') {
		into 'bin/launch_app.sh'
		exclude 'database'
		fileMode = 0550
	}

	from('conf') {
		// Will tell redline-rpm not to auto create directories, which
		// is sometimes necessary to avoid rpm directory conflicts
		addParentDirs = false
		into 'conf'
	}

	from('data') {
		into 'data'
	}

}


task buildDevelRpm(type: Rpm) {

}